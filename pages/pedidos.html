<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Pedidos Recebidos - Terra e Mesa</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">
  <style>
    .top-bar {
      background-color: #d2c0b5;
    }
    .logo {
      height: 40px;
    }
    .pedido-card {
      border-left: 5px solid #28a745;
      padding: 15px;
      margin-bottom: 20px;
      background-color: #f9f9f9;
      border-radius: 8px;
    }
    .pedido-header {
      font-weight: bold;
      margin-bottom: 5px;
    }
  </style>
</head>
<body>

<!-- Cabeçalho -->
<nav class="navbar navbar-expand-lg top-bar px-4 py-2">
  <a class="navbar-brand d-flex align-items-center" href="./desktop1.html">
    <img src="./planta-Photoroom.png" alt="Logo" class="logo me-2">
    <strong>TERRA E MESA</strong>
  </a>
  <div class="ms-auto">
    <a href="./desktop5.html" class="btn btn-outline-secondary me-2">Voltar</a>
  </div>
</nav>

<!-- Conteúdo -->
<div class="container my-5">
    <a href="./desktop5.html" style="text-decoration: none; color: inherit;">
  <strong>Área do Produtor</strong> >
</a>
<a><strong>Pedidos Recebidos</strong></a>
  <h3 class="mb-4">Pedidos Recebidos</h3>
  <div id="lista-pedidos">
    <p class="text-muted">Carregando pedidos...</p>
  </div>
</div>

<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

<!-- Script de exemplo (simulando carregamento de pedidos) -->
<script>
  document.addEventListener("DOMContentLoaded", () => {
    const container = document.getElementById("lista-pedidos");

    // Simulação de dados (substituir com fetch real depois)
    const pedidos = [
      {
        cliente: "João Silva",
        data: "13/06/2025",
        produtos: [
          { descricao: "Maçã Orgânica", quantidade: 2, unidade: "kg", preco: 10.00 },
          { descricao: "Cenoura", quantidade: 1, unidade: "kg", preco: 6.00 }
        ]
      },
      {
        cliente: "Maria Oliveira",
        data: "12/06/2025",
        produtos: [
          { descricao: "Alface", quantidade: 3, unidade: "unid.", preco: 4.50 }
        ]
      }
    ];

    if (pedidos.length === 0) {
      container.innerHTML = "<p class='text-muted'>Nenhum pedido recebido ainda.</p>";
      return;
    }

    container.innerHTML = ""; // Limpa carregando...

    pedidos.forEach(pedido => {
      const card = document.createElement("div");
      card.className = "pedido-card";

      let produtosHTML = "";
      let total = 0;
      pedido.produtos.forEach(p => {
        const subtotal = p.quantidade * p.preco;
        total += subtotal;
        produtosHTML += `<li>${p.descricao} - ${p.quantidade} ${p.unidade} (R$ ${p.preco.toFixed(2)})</li>`;
      });

      card.innerHTML = `
        <div class="pedido-header">Cliente: ${pedido.cliente}</div>
        <div>Data do Pedido: ${pedido.data}</div>
        <ul>${produtosHTML}</ul>
        <strong>Total: R$ ${total.toFixed(2)}</strong>
      `;

      container.appendChild(card);
    });
  });
</script>

</body>
</html>